% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ec_dispersal_probability.R
\name{ec_dispersal_probability}
\alias{ec_dispersal_probability}
\title{Calculate Dispersal Probabilities Between Protected Areas}
\usage{
ec_dispersal_probability(distance_matrix, median_dispersal = 10)
}
\arguments{
\item{distance_matrix}{Numeric matrix of distances between protected areas in kilometers,
typically generated by \code{\link[=ec_pa_distances]{ec_pa_distances()}}}

\item{median_dispersal}{Numeric. Median dispersal distance of the focal species or
species group in kilometers. Default is 10 km}
}
\value{
A numeric matrix of dispersal probabilities where element represents
the probability of successful dispersal from protected area i to protected area j.
Values range from 0 to 1, with 1 on the diagonal (within-patch probability)
}
\description{
The function calculates the probability of successful dispersal between all pairs of
protected areas based on inter-patch distances and species median dispersal distance.
The function uses a negative exponential dispersal kernel.
}
\details{
The dispersal probability between patches i and j is calculated using the formula:
\deqn{p_{ij} = \exp \left( - \ln(2) \, \frac{d_{ij}}{m} \right)}{%
p_ij = exp( - ln(2) * d_ij / m )}

where:
\itemize{
\item \eqn{d_{ij}} is the distance between patches i and j (km)
\item \eqn{m} is the median dispersal distance (km)
}

This formulation ensures that when the distance equals the median dispersal distance,
the probability equals 0.5. The negative exponential function produces a realistic
decay in dispersal probability with increasing distance.
}
\examples{
\donttest{
library(dplyr)
# Benin - treated as single ecoregion
benin <- fiwac \%>\%
  dplyr::filter(ISO3_CODE == "BEN")

# Protected area
prot_area <- pas

# repare data first
prepared_data <- ec_prepare_data(
  pa = prot_area,
  ecoregion = benin,
  min_area = 1
)

# Add transboundary PAs with default 70km buffer
complete_pa <- ec_add_transboundary_pa(prepared_data, buffer_km = 70)

# Calculate edge-to-edge distances
dist_matrix <- ec_pa_distances(complete_pa, method = "edge")

# For a more mobile species (30km median dispersal)
prob_matrix <- ec_dispersal_probability(dist_matrix, median_dispersal = 30)
prob_matrix[1:10, 1:10]
}

}
\references{
Saura, S., Bastin, L., Battistella, L., Mandrici, A., & Dubois, G. (2017).
Protected areas in the world's ecoregions: How well connected are they?
Ecological Indicators, 76, 144-158. \doi{10.1016/j.ecolind.2016.12.047}

Saura, S., & Pascual-Hortal, L. (2007). A new habitat availability index to integrate
connectivity in landscape conservation planning: comparison with existing indices and
application to a case study. Landscape and Urban Planning, 83(2-3), 91-103.
\doi{doi.org/10.1016/j.landurbplan.2007.03.005}
}
